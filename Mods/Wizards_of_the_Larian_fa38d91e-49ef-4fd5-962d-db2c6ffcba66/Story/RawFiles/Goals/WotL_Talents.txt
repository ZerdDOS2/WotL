Version 1
SubGoalCombiner SGC_AND
INITSECTION
// DB_WotL_InnateTalents((STRING)_Talent);
DB_WotL_InnateTalents("QuickStep");
DB_WotL_InnateTalents("ViolentMagic");
DB_WotL_InnateTalents("AttackOfOpportunity");

KBSECTION
//REGION Adds the innate talents
IF
	StoryEvent((CHARACTERGUID)_Char, "WotL_SetAllVariables")
THEN
	PROC_WotL_AddInnateTalents(_Char);

PROC
	PROC_WotL_AddInnateTalents((CHARACTERGUID)_Char)
AND
	DB_WotL_InnateTalents(_Talent)
AND
	NOT CharacterHasTalent(_Char, _Talent, 1)
THEN
	NRD_CharacterSetPermanentBoostTalent(_Char, _Talent, 1);
	CharacterAddAttribute(_Char, "Dummy", 0); // Force PlayerUpgrade sync
//END_REGION

//REGION Reworked Talents
IF
	StoryEvent((CHARACTERGUID)_Char, "WotL_SetAllVariables")
THEN
	NRD_LuaCall("WotL_ReworkedTalents_Torturer", (STRING)_Char);

IF
    CharacterStatusApplied(_Summon, "SUMMONING_ABILITY", _)
AND
    CharacterIsSummon(_Summon, 1)
AND
    NOT NRD_CharacterGetInt(_Summon, "Totem", 1)
AND
    CharacterGetOwner(_Summon, _Summoner)
THEN
	DB_WotL_SummonsCount(_Summoner, _Summon);

IF
	CharacterDied(_Summon)
AND
	DB_WotL_SummonsCount(_Summoner, _Summon)
THEN
	NOT DB_WotL_SummonsCount(_Summoner, _Summon);
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "__WotL_Goal"
