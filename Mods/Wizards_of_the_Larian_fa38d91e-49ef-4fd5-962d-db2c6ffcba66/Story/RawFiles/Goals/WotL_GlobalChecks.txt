Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION Generic triggers for WotL_SetAllVariables Event
IF
	CharacterStatusAttempt(_Char, _Status, _)
AND
	ObjectGetFlag(_Char, "WotL_CharacterInitialized", 1)
AND
	NOT DB_WotL_BlacklistVariableStatuses(_Status)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");

IF
	CharacterStatusApplied(_Char, _Status, _)
AND
	ObjectGetFlag(_Char, "WotL_CharacterInitialized", 1)
AND
	NOT DB_WotL_BlacklistVariableStatuses(_Status)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");

IF
	CharacterStatusRemoved(_Char, _Status, _)
AND
	ObjectGetFlag(_Char, "WotL_CharacterInitialized", 1)
AND
	NOT DB_WotL_BlacklistVariableStatuses(_Status)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");

IF
	ObjectEnteredCombat((CHARACTERGUID)_Char, _)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");

IF
	CharacterResurrected(_Char)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");
/*
IF
	CharacterEnteredRegion(_Char, _)
AND
	ObjectGetFlag(_Char, "WotL_CharacterInitialized", 1)
THEN
	ProcObjectTimer(_Char, "WotL_SetAllVariables", 5000);

IF
	DB_Sees(_Player, _Char)
AND
	ObjectGetFlag(_Char, "WotL_CharacterInitialized", 1)
AND
	CharacterIsPlayer(_Player, 1)
AND
	CharacterIsPlayer(_Char, 0)
THEN
	SetStoryEvent(_Char, "WotL_SetAllVariables");*/
//END_REGION
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "__WotL_Goal"
